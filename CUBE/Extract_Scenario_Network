;;<<Default Template>><<NETWORK>><<Default>>;;
; Do not change filenames or add or remove FILEI/FILEO statements using an editor. Use Cube/Application Manager.
RUN PGM=NETWORK PRNFILE="{SCENARIO_DIR}\OUTPUT\LOGS\Extract_Network.PRN" MSG='Extract Scenario Network'
FILEI LINKI[1] = "{CATALOG_DIR}\MasterNetwork\Master_highway.net"
FILEO NETO = "{SCENARIO_DIR}\Input\highway.net",
INCLUDE = A, B, LENGTH, DISTANCE, FACTYPE, LANES, POST_SPD, RTE_NAME, AAWDT, TMS_ID, SCREENLN, TUNNEL, BRIDGE, TRK_PHB, PED_PHB, TRAFF_PHB

PROCESS  PHASE=LINKMERGE  
; Add common links
IF(DIST_C > 0)
  DISTANCE = DIST_C
  FACTYPE = FT_C
  LANES = LANES_C
  POST_SPD = SPD_C
ENDIF


; Add new or year/scenario specific links
IF(F{year}_EXCL = 1)
  DISTANCE = DIST_{year}
  FACTYPE = FT_{year}
  LANES = LANES_{year}
  POST_SPD = SPD_{year}
ENDIF

IF (DISTANCE =0) DELETE

ENDPROCESS

ENDRUN
